"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[353],{9884:function(e,n,t){var r,s=t(4799),i=t(5515),o=(t(2791),t(1024)),a=t(184);n.Z=function(e){var n=e.user1,t=e.handleFunction,c=e.admin,l=(0,o.g)().user;return r=l._id===c._id,(0,a.jsx)("div",{children:r?(0,a.jsxs)(i.C,{px:2,py:1,borderRadius:"lg",m:1,mb:2,variant:"solid",fontSize:12,colorScheme:"purple",cursor:"pointer",onClick:t,children:[n.name,c._id===n._id&&(0,a.jsx)("span",{children:" (Admin)"}),c._id===l._id&&(0,a.jsx)(s.T,{pl:1})]}):(0,a.jsxs)(i.C,{px:2,py:1,borderRadius:"lg",m:1,mb:2,variant:"solid",fontSize:12,colorScheme:"purple",cursor:"pointer",children:[n.name,c._id===n._id&&(0,a.jsx)("span",{children:" (Admin)"}),c._id===l._id&&(0,a.jsx)(s.T,{pl:1})]})})}},7573:function(e,n,t){var r=t(7732),s=t(4087),i=t(9229),o=(t(2791),t(184));n.Z=function(e){var n=e.user,t=e.handleFunction;return(0,o.jsxs)(s.xu,{onClick:t,cursor:"pointer",bg:"#E8E8E8",_hover:{background:"#2b6cb0",color:"white"},w:"100%",d:"flex",alignItems:"center",color:"black",px:3,py:2,mb:2,borderRadius:"lg",children:[(0,o.jsx)(r.q,{mr:2,size:"sm",cursor:"pointer",name:n.name,src:n.pic}),(0,o.jsxs)(s.xu,{children:[(0,o.jsx)(i.x,{children:n.name}),(0,o.jsxs)(i.x,{fontSize:"xs",children:[(0,o.jsx)("b",{children:"Email : "}),n.email]})]})]})}},8353:function(e,n,t){t.r(n),t.d(n,{default:function(){return ie}});var r=t(9439),s=t(4087),i=t(2791),o=t(4165),a=t(5861),c=t(1123),l=t(8652),d=t(1295),u=t(5232),h=t(9120),x=t(7067),f=t(2030),p=t(2790),m=t(447),j=t(4224),b=t(3263),g=t(1024),v=t(2893),C=t(7732),w=t(9229),k=t(184),y=function(e){var n=e.fetchAgain,t=(0,g.g)(),r=t.user,c=t.selectedChannel,l=t.setSelectedChannel,h=t.channels,x=t.setChannels,f=(0,d.p)(),p=function(){var e=(0,a.Z)((0,o.Z)().mark((function e(){var n,t,s;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={headers:{Authorization:"Bearer ".concat(r.token)}},e.next=4,b.Z.get("/api/channel",n);case 4:t=e.sent,s=t.data,x(s),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),f({title:"Error Occured!",description:"Failed to Load the channels",status:"error",duration:2e3,isClosable:!0,position:"bottom-left"});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return(0,i.useEffect)((function(){p()}),[n]),(0,k.jsx)(u.K,{overflowY:"scroll",children:h.map((function(e){return(0,k.jsx)(s.xu,{onClick:function(){return l(e)},cursor:"pointer",bg:c===e?"#4c6ed5":"#E8E8E8",color:c===e?"white":"black",px:3,py:2,borderRadius:"lg",children:(0,k.jsxs)(v.U,{children:[(0,k.jsx)(C.q,{name:null===e||void 0===e?void 0:e.channelName,size:"sm"}),(0,k.jsx)(w.x,{children:e.channelName})]})},e._id)}))})},Z=t(6971),S=t(3433),_=t(8348),z=t(1820),A=t(3380),E=t(2449),F=t(7693),I=t(1461),O=t(7521),N=t(2701),B=t(7886),W=t(4653),D=(t(9884),t(7573)),q=function(e){var n=e.children,t=(0,_.q)(),s=t.isOpen,c=t.onOpen,l=t.onClose,u=(0,i.useState)(),h=(0,r.Z)(u,2),x=h[0],f=h[1],p=(0,i.useState)([]),m=(0,r.Z)(p,2),v=(m[0],m[1],(0,i.useState)()),C=(0,r.Z)(v,2),w=C[0],y=C[1],Z=(0,i.useState)(""),D=(0,r.Z)(Z,2),q=(D[0],D[1],(0,i.useState)([])),R=(0,r.Z)(q,2),M=(R[0],R[1],(0,i.useState)(!1)),U=(0,r.Z)(M,2),K=(U[0],U[1],(0,g.g)()),L=K.user,P=K.channels,Y=K.setChannels,V=(0,d.p)(),J=function(){var e=(0,a.Z)((0,o.Z)().mark((function e(){var n,t,r;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(w),void 0!==x&&void 0!==w){e.next=4;break}return V({title:"Please fill all the feilds",status:"warning",duration:2e3,isClosable:!0,position:"top"}),e.abrupt("return");case 4:return e.prev=4,n={headers:{Authorization:"Bearer ".concat(L.token)}},e.next=8,b.Z.post("/api/channel/channelcreate",{name:x,discription:w},n);case 8:t=e.sent,r=t.data,Y([r].concat((0,S.Z)(P))),l(),V({title:"New Channel Created!",status:"success",duration:1e3,isClosable:!0,position:"bottom"}),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(4),V({title:"Failed to Create the Channel!",description:e.t0.response.data,status:"error",duration:1e3,isClosable:!0,position:"bottom"});case 18:case"end":return e.stop()}}),e,null,[[4,15]])})));return function(){return e.apply(this,arguments)}}();return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("span",{onClick:c,children:n}),(0,k.jsxs)(z.u_,{onClose:l,isOpen:s,isCentered:!0,children:[(0,k.jsx)(A.Z,{}),(0,k.jsxs)(E.h,{children:[(0,k.jsx)(F.x,{fontSize:"35px",fontFamily:"Work sans",display:"flex",justifyContent:"center",children:"Create New Channel"}),(0,k.jsx)(I.o,{}),(0,k.jsxs)(O.f,{display:"flex",flexDir:"column",alignItems:"center",children:[(0,k.jsx)(N.NI,{children:(0,k.jsx)(B.I,{placeholder:"Channel Name",mb:3,onChange:function(e){return f(e.target.value)}})}),(0,k.jsx)(N.NI,{children:(0,k.jsx)(B.I,{placeholder:"Channel Description",mb:1,onChange:function(e){return y(e.target.value)}})})]}),(0,k.jsx)(W.m,{children:(0,k.jsx)(j.z,{onClick:J,colorScheme:"blue",children:"Create Channel"})})]})]})]})},R=t(7896),M=function(e){var n=e.fetchAgain,t=(0,g.g)(),r=t.user,v=t.selectedChannel,C=t.setSelectedChannel,w=t.channels,S=t.setChannels,_=t.channelNotification,z=t.setChannelNotification,A=(0,d.p)();(0,i.useEffect)((function(){E()}),[n]);var E=function(){var e=(0,a.Z)((0,o.Z)().mark((function e(){var n,t,s;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={headers:{Authorization:"Bearer ".concat(r.token)}},e.next=4,b.Z.get("/api/channel",n);case 4:t=e.sent,s=t.data,S(s),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),A({title:"Error Occured!",description:"Failed to Load the channels",status:"error",duration:2e3,isClosable:!0,position:"bottom-left"});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return(0,k.jsxs)(s.xu,{display:{base:v?"none":"flex",md:"flex"},flexDir:"column",p:3,bg:"white",w:{base:"100%",md:"22%"},borderWidth:"1px",h:"100%",children:[(0,k.jsx)(s.xu,{justifyContent:"space-between",children:(0,k.jsxs)(u.K,{direction:"row",justifyContent:"space-between",children:[(0,k.jsx)(s.xu,{pb:3,px:3,fontSize:{base:"28px",md:"25px"},fontFamily:"Work sans",display:"flex",w:"100%",children:"Channels"}),(0,k.jsx)(s.xu,{children:(0,k.jsxs)(h.v,{children:[(0,k.jsxs)(x.j,{p:"1",children:[(0,k.jsx)(R.default,{count:_.length,effect:f.cE.SCALE}),(0,k.jsx)(c.D,{fontSize:"2xl",m:"1"})]}),(0,k.jsx)(p.q,{pl:4,children:_.map((function(e){return(0,k.jsx)(m.s,{onClick:function(){C(e.channel),z(_.filter((function(n){return n!==e})))},children:"Video Call from ".concat(e.channel.channelName)},e._id)}))})]})})]})}),(0,k.jsx)(s.xu,{display:"flex",flexDir:"column",p:3,bg:"#F8F8F8",w:"100%",h:"100%",borderRadius:"lg",overflowY:"hidden",children:w?(0,k.jsx)(y,{fetchAgain:n}):(0,k.jsx)(Z.Z,{})}),(0,k.jsx)(s.xu,{justifyContent:"center",display:"flex",children:(0,k.jsx)(q,{children:(0,k.jsx)(j.z,{bg:"",display:"flex",fontSize:{base:"17px",md:"13px !important",lg:"17px"},leftIcon:(0,k.jsx)(l.d,{}),children:"New Channel"})})})]})},U=t(7885),K=t(3204),L=t(5515),P=t(3544),Y=t(4363),V=t(2055),J=t(6856),T=t(6355),H=t(6036),$=t(7425),G=t(4880),Q=t(7377),X=t(8385),ee=(t(5089),t(3528)),ne=t.n(ee),te=function(e){var n=e.messages,t=(0,g.g)().user,r=function(e){var n=new Date(e),r=new Date,s=-ne().tz(r,t.timeZone).utcOffset();return n.setMinutes(n.getMinutes()-s),("0"+n.getDate()).slice(-2)+"/"+("0"+(n.getMonth()+1)).slice(-2)+"/"+n.getFullYear()+" "+("0"+n.getHours()).slice(-2)+":"+("0"+n.getMinutes()).slice(-2)};return(0,k.jsx)(X.Z,{children:n&&n.map((function(e,n){return"Video call"!==e.content&&(0,k.jsxs)(s.xu,{style:{display:"flex"},ml:10,children:[(0,k.jsx)(Q.u,{label:e.sender.name,placement:"bottom-start",hasArrow:!0,children:(0,k.jsx)(C.q,{mt:"25px",mr:1,size:"sm",cursor:"pointer",name:e.sender.name,src:e.sender.pic})}),(0,k.jsxs)("span",{style:{backgroundColor:"".concat(e.title?"#BEE3F8":"#B9F5D0"),marginLeft:20,marginTop:20,padding:"5px 15px",width:"78%",maxWidth:"80%"},children:[(0,k.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,k.jsx)(s.xu,{fontWeight:"semibold",fontSize:"sm",children:e.sender.name}),(0,k.jsx)(s.xu,{children:r(null===e||void 0===e?void 0:e.time)},e._id)]}),(0,k.jsx)(s.xu,{ml:2,fontWeight:"bold",color:"red.600",fontSize:"xl",children:e.title}),(0,k.jsx)(s.xu,{ml:2,children:e.content})]})]},e._id)||"Video call"===e.content&&(0,k.jsx)(s.xu,{display:"flex",justifyContent:"center",children:(0,k.jsx)("h1",{children:(0,k.jsx)(w.x,{alignItems:"center",color:"#4c6ed5",padding:"0 10px",children:e.sender.name&&"".concat(e.sender.name," started video call")})})})}))})},re=function(e){var n=e.fetchAgain,t=e.setFetchAgain,c=(0,g.g)(),h=c.selectedChannel,x=c.setSelectedChannel,f=c.user,p=c.channelNotification,m=c.setChannelNotification,y=c.socket,Z=(0,_.q)(),q=(0,_.q)(),R=(0,_.q)(),M=(0,i.useState)(!1),Q=(0,r.Z)(M,2),X=Q[0],ee=Q[1],ne=(0,i.useState)("Chats"),re=(0,r.Z)(ne,2),se=re[0],ie=re[1],oe=(0,i.useState)(!1),ae=(0,r.Z)(oe,2),ce=ae[0],le=ae[1],de=(0,i.useState)(!1),ue=(0,r.Z)(de,2),he=(ue[0],ue[1]),xe=(0,i.useState)(),fe=(0,r.Z)(xe,2),pe=fe[0],me=fe[1],je=(0,i.useState)(),be=(0,r.Z)(je,2),ge=be[0],ve=be[1],Ce=(0,i.useState)([]),we=(0,r.Z)(Ce,2),ke=we[0],ye=we[1],Ze=(0,i.useState)([]),Se=(0,r.Z)(Ze,2),_e=Se[0],ze=Se[1],Ae=(0,i.useState)([]),Ee=(0,r.Z)(Ae,2),Fe=Ee[0],Ie=Ee[1],Oe=(0,i.useState)(""),Ne=(0,r.Z)(Oe,2),Be=Ne[0],We=Ne[1],De=(0,i.useState)([]),qe=(0,r.Z)(De,2),Re=qe[0],Me=qe[1],Ue=(0,d.p)(),Ke=(0,G.k6)(),Le=function(e){ie(e)};(0,i.useEffect)((function(){console.log(h),y.emit("isVideoOn",null===h||void 0===h?void 0:h._id),y.on("VideoOn",(function(e){return le(e)}))}),[h]);var Pe=function(){var e=(0,a.Z)((0,o.Z)().mark((function e(){var n,t,r;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,n={headers:{Authorization:"Bearer ".concat(f.token)}},ee(!0),e.next=7,b.Z.get("/api/channelmessage/".concat(h._id),n);case 7:t=e.sent,r=t.data,ye(r),ee(!1),y.emit("join channel",h._id),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),Ue({title:"Error Occured!",description:"Failed to Load the Post",status:"error",duration:5e3,isClosable:!0,position:"bottom"});case 17:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(){return e.apply(this,arguments)}}(),Ye=function(){var e=(0,a.Z)((0,o.Z)().mark((function e(n){var t,r,s;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Enter"!==n.key||!_e){e.next=17;break}return e.prev=1,t={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(f.token)}},ze(""),e.next=6,b.Z.post("/api/channelmessage",{content:_e,channelId:h},t);case 6:r=e.sent,s=r.data,console.log("new msgsss ",s),y.emit("new channelmessage",s),ye([].concat((0,S.Z)(ke),[s])),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),console.log("errr",e.t0),Ue({title:"Error Occured!",description:"Failed to send the Message",status:"error",duration:5e3,isClosable:!0,position:"bottom"});case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(n){return e.apply(this,arguments)}}(),Ve=function(){var e=(0,a.Z)((0,o.Z)().mark((function e(){var n,t,r;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(f.token)}},e.next=4,b.Z.post("/api/channelmessage",{content:"Video call",channelId:h},n);case 4:t=e.sent,r=t.data,console.log("new msgsss ",r),y.emit("new channelmessage",r),y.emit("group video",r),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),Ue({title:"Error Occured!",description:"Failed to send the Message",status:"error",duration:5e3,isClosable:!0,position:"bottom"});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),Je=function(){var e=(0,a.Z)((0,o.Z)().mark((function e(r){var s,i,a;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h.channelAdmin._id===f._id||r._id===f._id){e.next=3;break}return Ue({title:"Only admin can remove a user!",status:"error",duration:2e3,isClosable:!0,position:"bottom"}),e.abrupt("return");case 3:return e.prev=3,s={headers:{Authorization:"Bearer ".concat(f.token)}},e.next=7,b.Z.put("/api/channel/channelremoveuser",{channelId:h._id,userId:r._id},s);case 7:i=e.sent,a=i.data,r._id===f._id?x():x(a),t(!n),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),Ue({title:"Error Occured!",description:e.t0.response.data.message,status:"error",duration:2e3,isClosable:!0,position:"bottom"});case 16:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(n){return e.apply(this,arguments)}}(),Te=function(){var e=(0,a.Z)((0,o.Z)().mark((function e(n){var t,r,s;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(We(n),n){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,ee(!0),t={headers:{Authorization:"Bearer ".concat(f.token)}},e.next=8,b.Z.get("/api/user?search=".concat(Be),t);case 8:r=e.sent,s=r.data,ee(!1),Me(s),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),Ue({title:"Error Occured!",description:"Failed to Load the Search Results",status:"error",duration:5e3,isClosable:!0,position:"bottom-left"});case 17:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(n){return e.apply(this,arguments)}}(),He=function(){var e=(0,a.Z)((0,o.Z)().mark((function e(){var r,s,i;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,ee(!0),r={headers:{Authorization:"Bearer ".concat(f.token)}},e.next=5,b.Z.put("/api/channel/channeladduser",{channelId:h._id,userId:Fe.map((function(e){return e._id}))},r);case 5:s=e.sent,i=s.data,x(i),Z.onClose(),Ie([]),t(!n),ee(!1),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),Ue({title:"Error Occured!",description:e.t0.response.data.message,status:"error",duration:2e3,isClosable:!0,position:"bottom"}),ee(!1);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}(),$e=function(){var e=(0,a.Z)((0,o.Z)().mark((function e(){var n;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(f.token),e.prev=1,ee(!0),n={headers:{Authorization:"Bearer ".concat(f.token)}},console.log("in delete"),e.next=7,b.Z.put("/api/channel/channeldelete",{channelId:h._id},n);case 7:e.sent,console.log("in delete 2"),window.location.reload(),ee(!1),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(){return e.apply(this,arguments)}}(),Ge=function(){var e=(0,a.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y.emit("join video",h._id,f.name,f._id),ce||(y.emit("show calling",h._id,f._id,h),Ve()),Ke.push("/video-call");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Qe=function(){var e=(0,a.Z)((0,o.Z)().mark((function e(){var n,t,r;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==pe&&void 0!==ge){e.next=3;break}return Ue({title:"Please fill all the feilds",status:"warning",duration:2e3,isClosable:!0,position:"top"}),e.abrupt("return");case 3:return e.prev=3,n={headers:{Authorization:"Bearer ".concat(f.token)}},e.next=7,b.Z.post("/api/channelmessage",{channelId:h._id,content:ge,title:pe},n);case 7:t=e.sent,r=t.data,y.emit("new channelmessage",r),ye([].concat((0,S.Z)(ke),[r])),R.onClose(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),Ue({title:"Error Occured",description:"Failed to create the post",status:"error",duration:1e3,isClosable:!0,position:"bottom"});case 17:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(){return e.apply(this,arguments)}}();return(0,i.useEffect)((function(){y.emit("setup",f),y.on("connected",(function(){return he(!0)})),y.on("show calling",(function(){return le(!0)}))}),[]),(0,i.useEffect)((function(){y.on("group video recieved",(function(e){m([e].concat((0,S.Z)(p))),console.log("ch",e)}))})),(0,i.useEffect)((function(){y.on("channelmessage recieved",(function(e){ye([].concat((0,S.Z)(ke),[e]))}))})),(0,i.useEffect)((function(){Pe(),h}),[h]),(0,k.jsx)(k.Fragment,{children:h?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)(s.xu,{width:"100%",m:0,bg:"#fffff",borderBottomWidth:"2px",children:[(0,k.jsx)(w.x,{justifyContent:"center",w:"100%",display:"flex",fontSize:"2xl",fontWeight:"semibold",children:h.channelName}),(0,k.jsx)(w.x,{justifyContent:"center",w:"100%",display:"flex",fontSize:"md",fontWeight:"light",children:h.discription}),(0,k.jsxs)(u.K,{spacing:5,mt:1,direction:"row",justifyContent:"center",children:[(0,k.jsx)(s.xu,{onClick:function(){Le("Chats")},display:"flex",cursor:"pointer",color:"black",w:"4.5%",style:{borderBottomColor:"Chats"===se?"#4c6ed5":"#ffffff",borderBottomWidth:"Chats"===se?"3px":"0px"},children:(0,k.jsx)(Y.J,{as:T.h4d,ml:{md:3,sm:3,base:3},boxSize:{md:6,sm:5,base:5},h:{md:12,sm:12,base:12}})},1),(0,k.jsx)(s.xu,{onClick:function(){Le("Channel")},display:"flex",cursor:"pointer",color:"black",w:"4.5%",style:{borderBottomColor:"Channel"===se?"#4c6ed5":"#ffffff",borderBottomWidth:"Channel"===se?"3px":"0px"},children:(0,k.jsx)(Y.J,{as:J.Y7M,ml:{md:3,sm:3,base:3},boxSize:{md:6,sm:5,base:5},h:{md:12,sm:12,base:12}})},2),(0,k.jsx)(j.z,{leftIcon:(0,k.jsx)(J.UU0,{}),onClick:Ge,_hover:{backgroundColor:"green",color:"#ffffff"},size:"lg",bg:ce?"red":"#ffffff",color:ce?"white":"black",children:"Meet"})]})]}),(0,k.jsx)(v.U,{justifyContent:"start",display:"flex",w:"100%",mt:2,mb:2,children:(0,k.jsx)(U.h,{display:{base:"flex",md:"none"},icon:(0,k.jsx)(V.R,{}),onClick:function(){return x("")}})}),"Chats"===se&&(0,k.jsxs)(s.xu,{display:"flex",flexDir:"column",justifyContent:"flex-end",p:3,bg:"#E8E8E8",w:"100%",h:"100%",borderRadius:"lg",overflowY:"hidden",children:[X?(0,k.jsx)(K.$,{size:"xl",w:20,h:20,alignSelf:"center",margin:"auto"}):(0,k.jsx)("div",{className:"messages",children:(0,k.jsx)(te,{messages:ke})}),(0,k.jsx)(N.NI,{onKeyDown:Ye,id:"first-name",isRequired:!0,mt:5,children:(0,k.jsxs)(v.U,{children:[(0,k.jsx)(j.z,{display:"flex",colorScheme:"blue",fontSize:{base:"17px",md:"13px !important",lg:"17px"},onClick:R.onOpen,leftIcon:(0,k.jsx)(l.d,{}),children:"New Post"}),(0,k.jsx)(B.I,{width:"85%",variant:"filled",bg:"#E0E0E0",placeholder:"Enter a message...",onChange:function(e){ze(e.target.value)},value:_e}),(0,k.jsxs)(z.u_,{onClose:R.onClose,isOpen:R.isOpen,isCentered:!0,children:[(0,k.jsx)(A.Z,{}),(0,k.jsxs)(E.h,{children:[(0,k.jsx)(F.x,{fontSize:"35px",fontFamily:"Work sans",display:"flex",justifyContent:"center",children:"Create New Post"}),(0,k.jsx)(I.o,{}),(0,k.jsxs)(O.f,{display:"flex",flexDir:"column",alignItems:"center",children:[(0,k.jsx)(N.NI,{children:(0,k.jsx)(B.I,{placeholder:"Post Heading",mb:3,onChange:function(e){return me(e.target.value)}})}),(0,k.jsx)(N.NI,{children:(0,k.jsx)(B.I,{placeholder:"Post Message",mb:1,onChange:function(e){return ve(e.target.value)}})})]}),(0,k.jsx)(W.m,{children:(0,k.jsx)(j.z,{onClick:Qe,colorScheme:"blue",children:"Send"})})]})]}),(0,k.jsx)(U.h,{icon:(0,k.jsx)(J._b$,{}),colorScheme:"blue",variant:"solid"})]})})]}),"Channel"===se&&(0,k.jsxs)(s.xu,{pb:3,px:3,fontSize:{base:"18px",md:"18px"},fontFamily:"Work sans",w:"100%",children:[(0,k.jsx)(s.xu,{mt:1,children:(0,k.jsxs)(u.K,{direction:"column",children:[(0,k.jsx)(w.x,{justifyContent:"center",w:"100%",fontSize:{base:"28px",md:"28px"},display:"flex",children:"Members"}),(0,k.jsxs)(u.K,{direction:"row",justifyContent:"space-between",children:[f._id===h.channelAdmin._id&&(0,k.jsx)(j.z,{leftIcon:(0,k.jsx)(J.joA,{}),bg:"#4c6ed5",color:"#ffffff",_hover:{backgroundColor:"#3953a2",color:"#ffffff"},onClick:Z.onOpen,children:"Add Member"}),(0,k.jsxs)(z.u_,{onClose:function(){Z.onClose(),Ie([])},isOpen:Z.isOpen,isCentered:!0,children:[(0,k.jsx)(A.Z,{}),(0,k.jsxs)(E.h,{children:[(0,k.jsx)(F.x,{fontSize:"35px",fontFamily:"Work sans",display:"flex",justifyContent:"center",children:h.channelName}),(0,k.jsx)(I.o,{}),(0,k.jsxs)(O.f,{display:"flex",flexDir:"column",alignItems:"center",children:[(0,k.jsx)(N.NI,{children:(0,k.jsx)(B.I,{placeholder:"Add Users",mb:1,onChange:function(e){return Te(e.target.value)}})}),(0,k.jsx)(s.xu,{w:"100%",display:"flex",flexWrap:"wrap",children:Fe.map((function(e){return(0,k.jsx)(L.C,{px:2,py:1,borderRadius:"lg",m:1,mb:2,variant:"solid",fontSize:12,colorScheme:"purple",cursor:"pointer",children:e.name})}))}),X?(0,k.jsx)("div",{children:"Loading..."}):null===Re||void 0===Re?void 0:Re.slice(0,3).map((function(e){return(0,k.jsx)(D.Z,{user:e,handleFunction:function(){return n=e,void(Fe.includes(n)?Ue({title:"User already added",status:"warning",duration:1e3,isClosable:!0,position:"top"}):Ie([].concat((0,S.Z)(Fe),[n])));var n}},e._id)}))]}),(0,k.jsx)(W.m,{children:(0,k.jsx)(j.z,{onClick:He,colorScheme:"blue",children:"Add User"})})]})]}),f._id===h.channelAdmin._id&&(0,k.jsx)(j.z,{leftIcon:(0,k.jsx)($.AWu,{}),_hover:{backgroundColor:"#cc0000",color:"#ffffff"},onClick:q.onOpen,children:"Delete Channel"}),(0,k.jsx)(P.a,{isOpen:q.isOpen,onClose:q.onClose,isCentered:!0,children:(0,k.jsx)(A.Z,{children:(0,k.jsxs)(P._,{children:[(0,k.jsx)(F.x,{children:"Delete Channel"}),(0,k.jsx)(O.f,{children:"Are you sure want to delete channel?"}),(0,k.jsxs)(W.m,{children:[(0,k.jsx)(j.z,{onClick:q.onClose,ml:3,children:"NO"}),(0,k.jsx)(j.z,{onClick:$e,colorScheme:"red",ml:3,children:"YES"})]})]})})})]})]})}),(0,k.jsx)(s.xu,{display:"flex",flexDir:"column",p:3,w:"100%",h:"100%",borderRadius:"lg",overflowY:"hidden",children:h.users.map((function(e){return(0,k.jsx)(s.xu,{px:3,py:2,h:47,bg:"#F8F8F8",borderRadius:"lg",mb:2,children:(0,k.jsxs)(u.K,{direction:"row",justifyContent:"space-between",children:[(0,k.jsxs)(v.U,{children:[null!==e&&void 0!==e&&e.pic?(0,k.jsx)(C.q,{size:"sm",cursor:"pointer",name:null===e||void 0===e?void 0:e.name,src:null===e||void 0===e?void 0:e.pic,ml:2}):(0,k.jsx)(C.q,{size:"sm",cursor:"pointer",name:null===e||void 0===e?void 0:e.name,ml:2}),e._id===h.channelAdmin._id?(0,k.jsxs)(w.x,{children:[e.name," (Admin)"]}):(0,k.jsx)(w.x,{children:e.name})]}),f._id===h.channelAdmin._id&&(0,k.jsx)(Y.J,{as:H.bqj,cursor:"pointer",boxSize:6,onClick:function(){return Je(e)}})]})},e._id)}))})]})]}):(0,k.jsx)(s.xu,{display:"flex",alignItems:"center",justifyContent:"center",h:"100%",children:(0,k.jsx)(w.x,{fontSize:"3xl",pb:3,fontFamily:"Work sans",children:"Click on a channel"})})})},se=function(e){var n=e.fetchAgain,t=e.setFetchAgain,r=(0,g.g)(),i=(r.user,r.selectedChannel);r.setSelectedChannel;return(0,k.jsx)(s.xu,{display:{base:i?"flex":"none",md:"flex"},alignItems:"center",flexDir:"column",p:3,bg:"white",w:{base:"100%",md:"77.8%"},borderWidth:"1px",children:(0,k.jsx)(re,{fetchAgain:n,setFetchAgain:t})})},ie=function(){var e=(0,g.g)(),n=e.user,t=(e.setUser,(0,i.useState)(!1)),o=(0,r.Z)(t,2),a=o[0],c=o[1];return(0,k.jsx)("div",{style:{width:"100%"},children:(0,k.jsxs)(s.xu,{display:"flex",justifyContent:"space-between",w:"100%",h:"100vh",pl:"3px",children:[n&&(0,k.jsx)(M,{fetchAgain:a}),n&&(0,k.jsx)(se,{fetchAgain:a,setFetchAgain:c})]})})}},5089:function(){}}]);
//# sourceMappingURL=353.bc905dee.chunk.js.map