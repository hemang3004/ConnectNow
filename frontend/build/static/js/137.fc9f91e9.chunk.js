"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[137],{4137:function(e,t,n){n.r(t);var s=n(4165),r=n(5861),i=n(9439),a=n(6146),o=n(2701),l=n(4585),c=n(7886),d=n(826),u=n(3821),p=n(4224),m=n(2791),h=n(3263),f=n(1295),g=n(4880),x=n(1024),j=n(184);t.default=function(){var e,t=(0,f.p)(),n=(0,g.k6)(),w=(0,m.useState)(),v=(0,i.Z)(w,2),b=v[0],y=v[1],S=(0,m.useState)(),I=(0,i.Z)(S,2),C=I[0],Z=I[1],E=(0,m.useState)(),k=(0,i.Z)(E,2),z=k[0],P=k[1],B=(0,m.useState)(),H=(0,i.Z)(B,2),N=H[0],L=H[1],M=(0,m.useState)(),T=(0,i.Z)(M,2),A=T[0],U=T[1],Y=(0,m.useState)(!1),q=(0,i.Z)(Y,2),R=q[0],$=q[1],K=(0,m.useState)(!1),_=(0,i.Z)(K,2),D=_[0],F=_[1],O=(0,x.g)().setVerifiedEmail,V=function(){return $(!R)},G=function(){var e=(0,r.Z)((0,s.Z)().mark((function e(){var r,i,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(F(!0),b&&C&&z&&N){e.next=5;break}return t({title:"Please Fill all the feilds",status:"warning",duration:5e3,isClosable:!0,position:"bottom"}),F(!1),e.abrupt("return");case 5:if(z===N){e.next=8;break}return t({title:"Passwords Do Not Match",status:"warning",duration:5e3,isClosable:!0,position:"bottom"}),e.abrupt("return");case 8:return e.prev=8,r={headers:{"Content-type":"application/json"}},e.next=12,h.Z.post("/api/user",{name:b,email:C,password:z,pic:A,re:"0"},r);case 12:i=e.sent,a=i.data,console.log(a),F(!1),O(C),n.push("/verify"),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(8),t({title:"Error Occured!",description:e.t0.response.data.message,status:"error",duration:5e3,isClosable:!0,position:"bottom"}),F(!1);case 24:case"end":return e.stop()}}),e,null,[[8,20]])})));return function(){return e.apply(this,arguments)}}();return(0,j.jsx)(a.g,{spacing:"5px",children:(0,j.jsxs)("form",{style:{width:"100%"},onSubmit:0!=e,children:[(0,j.jsxs)(o.NI,{id:"first-name",isRequired:!0,children:[(0,j.jsx)(l.l,{children:"Name"}),(0,j.jsx)(c.I,{placeholder:"Enter Your Name",onChange:function(e){y(e.target.value)}})]}),(0,j.jsxs)(o.NI,{id:"email",isRequired:!0,children:[(0,j.jsx)(l.l,{children:"Email"}),(0,j.jsx)(c.I,{placeholder:"Enter Your Email",onChange:function(e){Z(e.target.value)},onKeyUp:function(){return/^([a-zA-Z0-9\.-]+)@([a-zA-Z0-9]+)\.([a-z]{2,5})(.[a-z]{2,5})?$/.test(C)?(e=1,document.getElementById("invemail").innerHTML="",!0):(e=0,document.getElementById("invemail").innerHTML="Please enter email in proper format!!",!1)}}),(0,j.jsx)("span",{id:"invemail",style:{color:"red",fontSize:"12px"}})]}),(0,j.jsxs)(o.NI,{id:"password",isRequired:!0,children:[(0,j.jsx)(l.l,{children:"Password"}),(0,j.jsxs)(d.B,{children:[(0,j.jsx)(c.I,{type:R?"text":"password",placeholder:"Enter Your Password",onChange:function(e){P(e.target.value)},onKeyUp:function(){return/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/.test(z)?(e=1,document.getElementById("invpass").innerHTML="",!0):(e=0,document.getElementById("invpass").innerHTML="Password must be atleast 8 characters, including uppercase letter,lowercase letter,number,special character!!",!1)}}),(0,j.jsx)(u.x,{width:"4.5rem",children:(0,j.jsx)("button",{h:"1.75rem",size:"sm",onClick:V,children:R?"Hide":"Show"})})]}),(0,j.jsx)("span",{id:"invpass",style:{color:"red",fontSize:"12px"}})]}),(0,j.jsxs)(o.NI,{id:"password",isRequired:!0,children:[(0,j.jsx)(l.l,{children:"Confirm Password"}),(0,j.jsxs)(d.B,{children:[(0,j.jsx)(c.I,{type:R?"text":"password",placeholder:"Enter Your Password Again",onChange:function(e){L(e.target.value)},onKeyUp:function(){return z!==N?(e=0,document.getElementById("invconfpass").innerHTML="Passwords not match!",!1):(e=1,document.getElementById("invconfpass").innerHTML="",!0)}}),(0,j.jsx)(u.x,{width:"4.5rem",children:(0,j.jsx)("button",{h:"1.75rem",size:"sm",onClick:V,children:R?"Hide":"Show"})})]}),(0,j.jsx)("span",{id:"invconfpass",style:{color:"red",fontSize:"12px"}})]}),(0,j.jsxs)(o.NI,{id:"pic",children:[(0,j.jsx)(l.l,{children:"Upload Your Picture"}),(0,j.jsx)(c.I,{type:"file",p:1.5,accept:"image/*",onChange:function(e){!function(e){if(F(!0),void 0!==e){if("image/jpeg"!==e.type&&"image/png"!==e.type)return t({title:"Please Select an Image!",status:"warning",duration:5e3,isClosable:!0,position:"bottom"}),void F(!1);var n=new FormData;n.append("file",e),n.append("upload_preset","chat-app"),n.append("cloud_name","hemang3004"),fetch("https://api.cloudinary.com/v1_1/dm37epkmg/image/upload",{method:"post",body:n}).then((function(e){return e.json()})).then((function(e){U(e.url.toString()),console.log(e.url.toString()),F(!1)})).catch((function(e){console.log(e),F(!1)}))}else t({title:"Please Select an Image!",status:"warning",duration:5e3,isClosable:!0,position:"bottom"})}(e.target.files[0])}})]}),(0,j.jsx)(p.z,{colorScheme:"blue",width:"100%",style:{marginTop:15},onClick:G,isLoading:D,children:"Sign Up"})]})})}}}]);
//# sourceMappingURL=137.fc9f91e9.chunk.js.map